{"version":3,"sources":["context/authContext/authContext.js","context/guestContext/guestContext.js","components/layouts/StyledNavbar.js","components/layouts/Navbar.js","components/guests/GuestForm.js","components/guests/GuestCounter.js","components/guests/GuestFilter.js","components/guests/GuestSearch.js","components/guests/Guest.js","components/guests/Guests.js","components/pages/Home.js","context/guestContext/guestReducer.js","context/types.js","utils/setToken.js","context/guestContext/GuestState.js","context/authContext/authReducer.js","context/authContext/AuthState.js","components/pages/Register.js","components/pages/Login.js","components/pages/routes/PrivateRoutes.js","App.js","index.js"],"names":["AuthContext","createContext","GuestContext","StyledNavbar","styled","div","Navbar","useContext","logoutUser","clearError","userAuth","user","clearGuests","clearFilter","clearSearch","userLinks","Fragment","name","className","href","onClick","authLinks","to","GuestForm","addGuest","edit","updateGuest","clearEdit","useState","phone","dietary","guest","setGuest","useEffect","handleChange","e","target","value","onSubmit","preventDefault","type","placeholder","onChange","required","pattern","checked","GuestCounter","guests","totalInvited","length","attending","filter","isConfirmed","totalAttending","invitedByDiet","attendingByDiet","StyledGuestFilter","GuestFilter","toggleFilter","style","fontSize","StyledSearch","GuestSearch","searchGuest","searchValue","useRef","ref","current","Guest","removeGuest","editGuest","_id","Guests","filterGuest","search","getGuests","loading","textAlign","padding","map","key","StyledHome","Home","getUser","Grid","container","direction","justify","alignItems","spacing","item","xl","md","xs","state","payload","reg","RegExp","match","errors","setToken","token","axios","defaults","headers","common","initialState","GuestState","children","useReducer","guestReducer","dispatch","a","config","header","post","res","data","response","localStorage","get","id","delete","put","err","guestContext","Provider","action","setItem","removeItem","AuthState","authReducer","registerUser","userData","loginUser","setError","error","Register","props","email","password","password2","setUser","history","push","msg","Login","PrivateRoutes","Component","component","rest","render","App","exact","path","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6c4420ff.chunk.js","sourcesContent":["import { createContext } from 'react';\r\n\r\nconst AuthContext = createContext();\r\nexport default AuthContext;","import { createContext } from 'react';\r\n\r\nconst GuestContext = createContext();\r\nexport default GuestContext;","import styled from 'styled-components';\r\n\r\nconst StyledNavbar = styled.div`\r\n\t/**************Navbar ******************/\r\n\t@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@700&display=swap');\r\n\r\n\t.navbar, .footer {\r\n\t  display: flex;\r\n\t  justify-content: space-between;\r\n\t  align-items: center;\r\n\t  padding: 0.7rem 2rem;\r\n\t  z-index: 1;\r\n\t  width: 100%;\r\n\t  color:var(--light-color);\r\n\t  background-color: var(--primary-color);\r\n\t  margin-bottom: 1rem;\r\n\t}\r\n\t.logo {\r\n\t  display: flex;\r\n\t  flex-direction: column;\r\n\t  align-items: center;\r\n\t  font-family: 'Poppins', sans-serif;\r\n\r\n\t  \tp {\r\n\t\t  font-size: 0.9rem;\r\n\t\t  margin-top:0.5rem;\r\n\t\t  color:#ccc\r\n\t\t}\r\n\t}\r\n\r\n\t// Design\r\n\t.logo {\r\n\t\ttext-transform: uppercase;\r\n\t\tbackground-color: transparent;\r\n\t\tfont-weight: bold;\r\n\t\tfont-size: 12px;\r\n\t\tletter-spacing: 2px;\r\n\t\toutline: none;\r\n\t\tz-index: 1;\r\n\t\tborder: 3px solid #fff;\r\n\t\tborder-radius: 1px 20px;\r\n\t}\r\n\r\n\t.logo span {\r\n\t  color: rgb(255, 57, 22)\r\n\t}\r\n\t.navbar ul {\r\n\t  display: flex;\r\n\t }\r\n\t .navbar i, h1 {\r\n\t  padding: 0 1rem\r\n\t}\r\n\tli {\r\n\t  list-style: none;\r\n\t  padding: 0 1rem;\r\n\t  transition: all 0.3s ease 0s;\r\n\t}\r\n\ta {\r\n\t  text-decoration: none;\r\n\t  color:var(--light-color)\r\n\t}\r\n\tli i:hover ,a:hover{\r\n\t  opacity: 0.5;  \r\n\t  cursor: pointer;\r\n\t}\r\n`;\r\n\r\nexport default StyledNavbar;","import React, { useContext } from 'react';\r\nimport AuthContext from '../../context/authContext/authContext';\r\nimport GuestContext from '../../context/guestContext/guestContext';\r\nimport { Link } from 'react-router-dom';\r\n// Styles\r\nimport StyledNavbar from './StyledNavbar';\r\n\r\nconst Navbar = () => {\r\n\r\n  const { logoutUser, clearError, userAuth, user } = useContext(AuthContext);\r\n  const { clearGuests, clearFilter, clearSearch } = useContext(GuestContext);\r\n\r\n  const handleLogout = () => {\r\n      logoutUser();\r\n      clearError();\r\n      clearGuests();\r\n      clearFilter();\r\n      clearSearch();\r\n  }\r\n\r\n\r\n  const userLinks = (\r\n    <React.Fragment>\r\n      <li>Hello, {user && user.name}</li>\r\n        <span className=\"sm-hide\">|</span>\r\n        <li>\r\n          <a href=\"#!\" onClick={handleLogout}>\r\n            <span className=\"sm-hide\">Logout</span>\r\n            <i className=\"fas fa-sign-out-alt\"></i>\r\n          </a>\r\n        </li>\r\n    </React.Fragment>\r\n  );\r\n\r\n  const authLinks = (\r\n    <React.Fragment>\r\n      <li>\r\n        <Link to=\"/register\">Register</Link>\r\n      </li>\r\n      <span className=\"sm-hide\">|</span>\r\n      <li>\r\n        <Link to=\"/login\">Login</Link>\r\n      </li>\r\n    </React.Fragment>\r\n  );\r\n\r\n  return (\r\n    <StyledNavbar>\r\n      <div className=\"navbar\">\r\n        <div className=\"logo\">\r\n          <h1>\r\n            PlanRSVP\r\n          </h1>\r\n        </div>\r\n        <ul>\r\n          {userAuth ? userLinks : authLinks}\r\n        </ul>\r\n      </div>\r\n    </StyledNavbar>\r\n  )\r\n}\r\n\r\nexport default Navbar","import React, { useState, useContext, useEffect } from 'react';\r\nimport GuestContext from '../../context/guestContext/guestContext';\r\n\r\nconst GuestForm = () => {\r\n  const { addGuest, edit, updateGuest, clearEdit } = useContext(GuestContext);\r\n\r\n  // initial state\r\n  const [guest, setGuest] = useState({\r\n    name: '',\r\n    phone: '',\r\n    dietary: 'Non-Veg'\r\n  })\r\n\r\n  // Destructure guest state\r\n  const { name, phone, dietary } = guest;\r\n\r\n  useEffect(() => {\r\n    if(edit !== null) {\r\n      setGuest(edit)\r\n    }\r\n    else {\r\n      setGuest({\r\n        name: '',\r\n        phone: '',\r\n        dietary: 'Non-Veg',\r\n      })\r\n    }\r\n\r\n  }, [edit])\r\n\r\n\r\n  const handleChange = (e) => {\r\n    setGuest({\r\n      ...guest,\r\n      [e.target.name]: e.target.value\r\n    })\r\n  }\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (edit === null) {\r\n      addGuest(guest);\r\n\r\n    } \r\n    else {\r\n      updateGuest(guest)\r\n      clearEdit()\r\n    }\r\n    setGuest({\r\n      name: '',\r\n      phone: '',\r\n      dietary: 'Non-Veg',\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div className=\"invite-section\">\r\n      <h1>{edit !== null ? 'Edit Guest' : 'Invite Guest'}</h1>\r\n      <form onSubmit={handleSubmit}>\r\n        <input type=\"text\" placeholder=\"Name\" name=\"name\" value={name} onChange={handleChange}/>\r\n        <input type=\"text\" placeholder=\"Phone\" name=\"phone\" value={phone} required pattern=\"[0-9\\s-]+\" onChange={handleChange}/>\r\n        <p className=\"options-label\">Dietary</p>\r\n        <div className=\"options\">\r\n          <label className=\"container\">Non-veg\r\n        <input type=\"radio\" name=\"dietary\" value='Non-Veg' checked={dietary === 'Non-Veg'} onChange={handleChange}/>\r\n            <span className=\"checkmark\"></span>\r\n          </label>\r\n          <label className=\"container\">Vegan\r\n        <input type=\"radio\" name=\"dietary\" value='Vegan' checked={dietary === 'Vegan'} onChange={handleChange} />\r\n            <span className=\"checkmark\"></span>\r\n          </label>\r\n          <label className=\"container\">Pascatarian\r\n        <input type=\"radio\" name=\"dietary\" value='Pesacatarian' checked={dietary === 'Pesacatarian'} onChange={handleChange} />\r\n            <span className=\"checkmark\"></span>\r\n          </label>\r\n        </div>\r\n        <input type=\"submit\" value={edit !== null ? 'Update Guest' : 'Add Guest'} className=\"btn\" />\r\n        { edit !== null ? <input onClick={clearEdit} value=\"Cancel\" type=\"button\" className=\"btn clear\" /> : null }\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default GuestForm","import React, { useContext } from 'react'\r\nimport GuestContext from '../../context/guestContext/guestContext';\r\nconst GuestCounter = () => {\r\n\r\n  const { guests } = useContext(GuestContext);\r\n  const totalInvited = guests.length;\r\n  const attending = guests.filter(guest => guest.isConfirmed);\r\n  const totalAttending = attending.length;\r\n\r\n  const invitedByDiet = (type) => (\r\n    guests.filter(guest => guest.dietary === type).length\r\n  )\r\n  const attendingByDiet = (type) => (\r\n    attending.filter(guest => guest.dietary === type).length\r\n  )\r\n\r\n  return (\r\n    <div>\r\n      <table>\r\n        <tbody>\r\n          <tr>\r\n            <th>Guests</th>\r\n            <th>Invited</th>\r\n            <th>Attending</th>\r\n          </tr>\r\n          <tr>\r\n            <th>Non-Veg</th>\r\n            <td>{invitedByDiet('Non-Veg')}</td>\r\n            <td>{attendingByDiet('Non-Veg')}</td>\r\n          </tr>\r\n          <tr>\r\n            <th>Vegan</th>\r\n            <td>{invitedByDiet('Vegan')}</td>\r\n            <td>{attendingByDiet('Vegan')}</td>\r\n          </tr><tr>\r\n            <th>Pescetarians</th>\r\n            <td>{invitedByDiet('Pesacatarian')}</td>\r\n            <td>{attendingByDiet('Pesacatarian')}</td>\r\n          </tr>\r\n          <tr>\r\n            <th>Total</th>\r\n            <td>{totalInvited}</td>\r\n            <td>{totalAttending}</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default GuestCounter","import React, {useContext} from 'react'\r\nimport GuestContext from '../../context/guestContext/guestContext';\r\nimport styled from 'styled-components';\r\n\r\nconst StyledGuestFilter = styled.div`\r\n  .switch {\r\n    position: relative;\r\n    display: inline-block;\r\n    width: 40px;\r\n    height: 20px;\r\n    margin-left:10px;\r\n  }\r\n\r\n  .switch input { \r\n    opacity: 0;\r\n    width: 0;\r\n    height: 0;\r\n  }\r\n\r\n  .slider {\r\n    position: absolute;\r\n    cursor: pointer;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background-color: #ccc;\r\n    -webkit-transition: .3s;\r\n    transition: .3s;\r\n  }\r\n\r\n  .slider:before {\r\n    position: absolute;\r\n    content: \"\";\r\n    height: 26px;\r\n    width: 26px;\r\n    left: -10px;\r\n    bottom: -4px;\r\n    border:1px solid rgb(226, 225, 225);\r\n    background-color: rgb(241, 241, 241);\r\n    -webkit-transition: .4s;\r\n    transition: .4s;\r\n  }\r\n\r\n\r\n  .lead {\r\n    color:var(--primary-color);\r\n    // margin-bottom: 0.5rem ;\r\n    margin-top:0.5rem\r\n  }\r\n\r\n  .toggle{\r\n    display: flex;\r\n    align-items: baseline;\r\n  }\r\n  .toggle p{\r\n    margin-left: 0.7rem\r\n  }\r\n`;\r\n\r\n\r\nconst GuestFilter = () => {\r\n  const {toggleFilter} = useContext(GuestContext);\r\n\r\n  return (\r\n    <StyledGuestFilter>\r\n      <div className=\"toggle\">\r\n        <label className=\"switch\">\r\n          <input type=\"checkbox\" onChange={() => toggleFilter()} />\r\n          <span className=\"slider round\"></span>\r\n        </label>\r\n        <p className=\"lead\" style={{fontSize: '12px'}}>Attending only</p>\r\n      </div>\r\n    </StyledGuestFilter>\r\n  )\r\n}\r\n\r\nexport default GuestFilter","import React, {useContext, useRef} from 'react';\r\nimport GuestContext from '../../context/guestContext/guestContext';\r\nimport styled from 'styled-components';\r\n\r\nconst StyledSearch = styled.div`\r\n\t.search{\r\n\t  padding: 0.3rem 2rem;\r\n\t  border-radius: 20px;\r\n\t  border:1px solid #ccc;\r\n\t       }\r\n\t .search:focus {\r\n\t  outline: none !important;\r\n\t }\r\n\t .search-icon{\r\n\t   margin-left:-2rem;\r\n\t   display: inline;\r\n\t   color:#ccc;\r\n\t   z-index: 100;\r\n\t }\r\n`;\r\n\r\nconst GuestSearch = () => {\r\n\r\n\tconst { searchGuest, clearSearch } = useContext(GuestContext);\r\n\tconst searchValue = useRef('');\r\n\r\n\tconst handleChange = (e) => {\r\n\t\te.preventDefault();\r\n\t\tif(searchValue.current.value !== '') {\r\n\t\t\tsearchGuest(e.target.value)\r\n\t\t}\r\n\t\telse {\r\n\t\t\tclearSearch()\r\n\t\t}\r\n\t}\r\n\t\r\n  return (\r\n    <StyledSearch>\r\n      <input ref={searchValue} onChange={handleChange} type=\"text\" className=\"search\" placeholder=\" Search Guest by name...\" />\r\n      <i className=\"fas fa-search search-icon\" />\r\n    </StyledSearch>\r\n  )\r\n}\r\n\r\nexport default GuestSearch","import React, {useContext } from 'react';\r\nimport GuestContext from '../../context/guestContext/guestContext';\r\n\r\nconst Guest = ({guest}) => {\r\n  const { removeGuest, updateGuest, editGuest } = useContext(GuestContext);\r\n\r\n  const { _id, name, phone, dietary, isConfirmed } = guest;\r\n  // console.log(name);\r\n\r\n  const handleRemove = () => {\r\n    removeGuest(_id);\r\n  }\r\n\r\n  const handleIsConfirmed = () => {\r\n    updateGuest({\r\n      ...guest,\r\n      isConfirmed: !isConfirmed\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div className=\"guest-card\">\r\n      <div className=\"card-head\">\r\n        <div>\r\n          <label className={`${isConfirmed && 'confirm'}`}> Confirmed\r\n            <i className={`fas fa-check-square ${isConfirmed && 'confirm'}`}>\r\n              <input type=\"checkbox\" onChange={handleIsConfirmed}/>\r\n            </i>\r\n          </label>\r\n        </div>\r\n        <div>\r\n          <button onClick={() => editGuest(guest)}>\r\n            <i className=\"fas fa-user-edit\"></i>\r\n          </button>\r\n          <button onClick={handleRemove}>\r\n            <i className=\"fas fa-trash-alt remove\"></i>\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div className=\"card-body\">\r\n        <h2>{name}</h2>\r\n        <span className={`badge ${dietary === 'Non-Veg' ? 'red' : dietary === 'Vegan' ? 'green' : 'seaGreen'}`}>{dietary}</span>\r\n        <div className=\"contact\">\r\n          <i className=\"fas fa-phone-alt\" />\r\n          <p>{phone}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Guest","import React, { useContext, useEffect } from 'react'\r\nimport Guest from './Guest'\r\nimport GuestContext from '../../context/guestContext/guestContext';\r\nimport AuthContext from '../../context/authContext/authContext';\r\n\r\nconst Guests = () => {\r\n\tconst { guests, filterGuest, search, getGuests } = useContext(GuestContext);\r\n\tconst { loading } = useContext(AuthContext);\r\n\r\n\tuseEffect(() => {\r\n\t\tgetGuests()\r\n\t\t// es-lint-disable-next-line\r\n\t}, [])\r\n\r\n\tif(guests.length <= 0) {\r\n\t\treturn <h3 style={{textAlign: 'center', padding: '5rem'}}>{loading ? 'Loading Guests...' : 'Please add a Guest...'}</h3>\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"guests\">\r\n\t\t\t{ search!== null ? search.map(guest => <Guest key={guest._id} guest={guest} />) :\r\n\t\t\t\tguests.filter(guest => !filterGuest || guest.isConfirmed).map(guest => <Guest key={guest._id} guest={guest} />) \r\n\t\t\t}\r\n\t\t</div>\r\n\t)\r\n}\r\nexport default Guests","import React, {useContext, useEffect} from 'react'\r\n// Components\r\nimport GuestForm from '../guests/GuestForm'\r\nimport GuestCounter from '../guests/GuestCounter'\r\nimport GuestFilter from '../guests/GuestFilter'\r\nimport GuestSearch from '../guests/GuestSearch'\r\nimport Guests from '../guests/Guests'\r\nimport Grid from '@material-ui/core/Grid';\r\n// Context\r\nimport AuthContext from '../../context/authContext/authContext';\r\n// Styles\r\nimport styled from 'styled-components';\r\n\r\nconst StyledHome = styled.div`\r\n  .sub-heading {\r\n    border-bottom: 1px solid #d0d1d2;\r\n  }\r\n  .app-container {\r\n      overflow-x: hidden;\r\n  }\r\n`;\r\n\r\nconst Home = () => {\r\n\r\n  const { getUser } = useContext(AuthContext);\r\n\r\n  useEffect(() => {\r\n    getUser();\r\n    //eslint-disable-next-line\r\n  }, [])\r\n\r\n  return (\r\n    <StyledHome>\r\n      <div className=\"app-container\">\r\n      <Grid container direction=\"row\" justify=\"flex-start\" alignItems=\"baseline\" spacing={4} className=\"sub-heading\">\r\n        <Grid item xl={3}>\r\n          <GuestSearch />\r\n        </Grid>\r\n        <Grid item xl={3}>\r\n          <GuestFilter />\r\n        </Grid>\r\n      </Grid>\r\n        <div className=\"main\">\r\n          <Grid container\r\n            direction=\"row\"\r\n            justify=\"center\"\r\n            alignItems=\"baseline\"\r\n            spacing={4}\r\n          >\r\n            <Grid item md={5} xs={12}>\r\n                <GuestCounter />\r\n            </Grid>\r\n            <Grid item md={5} xs={12}>\r\n              <GuestForm />\r\n            </Grid>\r\n\r\n          </Grid>\r\n        </div>\r\n        <Guests />\r\n      </div>\r\n    </StyledHome>\r\n  )\r\n}\r\n\r\nexport default Home","import { \r\n\tTOGGLE_FILTER, \r\n\tSEARCH_GUEST, \r\n\tCLEAR_SEARCH, \r\n\tADD_GUEST, \r\n\tREMOVE_GUEST, \r\n\tUPDATE_GUEST, \r\n\tEDIT_GUEST, \r\n\tCLEAR_EDIT, \r\n\tGET_GUESTS, \r\n\tGUESTS_ERROR, \r\n\tCLEAR_GUESTS,\r\n\tCLEAR_FILTER,\r\n\t } from '../types';\r\n\r\nexport default (state, {type, payload}) => {\r\n\tswitch(type) {\r\n\t\tcase ADD_GUEST:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tguests: [...state.guests, payload]\r\n\t\t\t}\r\n\t\tcase REMOVE_GUEST:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t// Obtain all guests that is NOT the id\r\n\t\t\t\tguests: state.guests.filter(guest => guest._id !== payload)\r\n\t\t\t}\r\n\t\tcase UPDATE_GUEST:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tguests: state.guests.map(guest => guest._id === payload._id ? payload : guest)\r\n\t\t\t}\r\n\t\tcase EDIT_GUEST:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tedit: payload,\r\n\t\t\t}\r\n\t\tcase CLEAR_EDIT:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tedit: null\r\n\t\t\t}\r\n\t\tcase TOGGLE_FILTER:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tfilterGuest: !state.filterGuest\r\n\t\t\t}\r\n\t\tcase CLEAR_FILTER:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tfilterGuest: false\r\n\t\t\t}\r\n\t\tcase SEARCH_GUEST:\r\n\t\t\tconst reg = new RegExp(`${payload}`, 'gi')\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tsearch: state.guests.filter(guest => guest.name.match(reg))\r\n\t\t\t}\r\n\t\tcase CLEAR_SEARCH:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tsearch: null\r\n\t\t\t}\r\n\t\tcase GET_GUESTS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tguests: payload\r\n\t\t\t}\r\n\t\tcase GUESTS_ERROR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tguests: [],\r\n\t\t\t\terrors: payload\r\n\t\t\t}\r\n\t\tcase CLEAR_GUESTS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tguests: []\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}","export const TOGGLE_FILTER = 'TOGGLE_FILTER';\r\nexport const SEARCH_GUEST = 'SEARCH_GUEST';\r\nexport const CLEAR_SEARCH = 'CLEAR_SEARCH';\r\nexport const ADD_GUEST = 'ADD_GUEST';\r\nexport const REMOVE_GUEST = 'REMOVE_GUEST';\r\nexport const UPDATE_GUEST = 'UPDATE_GUEST';\r\nexport const GET_GUESTS = 'GET_GUESTS';\r\nexport const GUESTS_ERROR = 'GUESTS_ERROR';\r\nexport const EDIT_GUEST = 'EDIT_GUEST';\r\nexport const CLEAR_EDIT = 'CLEAR_EDIT';\r\nexport const CLEAR_GUESTS = 'CLEAR_GUESTS';\r\nexport const CLEAR_FILTER = 'CLEAR_FILTER';","import axios from 'axios';\r\n\r\n// Remove headers if there are no tokens\r\nconst setToken = (token) => {\r\n\tif(token) {\r\n\t\taxios.defaults.headers.common['auth-token'] = token\r\n\t}\r\n\telse {\r\n\t\tdelete axios.defaults.headers.common['auth-token']\r\n\t}\r\n}\r\n\r\nexport default setToken;","import React, { useReducer } from 'react';\r\nimport guestContext from './guestContext';\r\nimport guestReducer from './guestReducer';\r\nimport { \r\n\tTOGGLE_FILTER, \r\n\tSEARCH_GUEST, \r\n\tCLEAR_SEARCH, \r\n\tADD_GUEST, \r\n\tREMOVE_GUEST, \r\n\tUPDATE_GUEST, \r\n\tEDIT_GUEST, \r\n\tCLEAR_EDIT, \r\n\tGET_GUESTS, \r\n\tGUESTS_ERROR, \r\n\tCLEAR_GUESTS,\r\n\tCLEAR_FILTER,\r\n\t } from '../types';\r\nimport axios from 'axios';\r\nimport setToken from '../../utils/setToken';\r\n\r\nconst initialState = {\r\n\tfilterGuest: false,\r\n\tsearch: null,\r\n\tedit: null,\r\n\tguests: [],\r\n\terrors: null,\r\n}\r\n\r\nconst GuestState = ({ children }) => {\r\n\r\n\tconst [state, dispatch] = useReducer(guestReducer, initialState);\r\n\r\n\t// ACTIONS\r\n\tconst addGuest = async (guest) => {\r\n\t\t// guest.id = Date.now();\r\n\r\n\t\t// Need to send a Header whenever we POST\r\n\t\tconst config = {\r\n\t\t\theader: {\r\n\t\t\t\t'Content-Type': 'application/json'\r\n\t\t\t}\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tconst res = await axios.post('/guests', guest, config)\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: ADD_GUEST,\r\n\t\t\t\tpayload: res.data\r\n\t\t\t});\r\n\t\t}\r\n\t\tcatch(err) {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: GUESTS_ERROR,\r\n\t\t\t\tpayload: err.response.data\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tconst getGuests = async () => {\r\n\t\t// Send the token in localStorage as a header\r\n\t\tif(localStorage.token) {\r\n\t\t\tsetToken(localStorage.token)\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tconst res = await axios.get('/guests');\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: GET_GUESTS,\r\n\t\t\t\tpayload: res.data\r\n\t\t\t})\r\n\t\t}\r\n\t\tcatch(err) {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: GUESTS_ERROR,\r\n\t\t\t\tpayload: err.response.data\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tconst removeGuest = async (id) => {\r\n\t\ttry {\r\n\t\t\tawait axios.delete(`/guests/${id}`)\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: REMOVE_GUEST,\r\n\t\t\t\tpayload: id\r\n\t\t\t})\r\n\t\t}\r\n\t\tcatch(err) {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: GUESTS_ERROR,\r\n\t\t\t\tpayload: err.response.data\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tconst updateGuest = async (guest) => {\r\n\t\tconst config = {\r\n\t\t\theader: {\r\n\t\t\t\t'Content-Type': 'application/json'\r\n\t\t\t}\r\n\t\t}\r\n\t\t// PUT for UPDATE data\r\n\t\tconst res = await axios.put(`/guests/${guest._id}`, guest, config);\r\n\t\ttry {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: UPDATE_GUEST,\r\n\t\t\t\tpayload: res.data\r\n\t\t\t});\r\n\t\t}\r\n\t\tcatch(err) {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: GUESTS_ERROR,\r\n\t\t\t\tpayload: err.response.data\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tconst clearGuests = () => {\r\n\t\tdispatch({\r\n\t\t\ttype: CLEAR_GUESTS\r\n\t\t})\r\n\t}\r\n\r\n\tconst editGuest = (guest) => {\r\n\t\tdispatch({\r\n\t\t\ttype: EDIT_GUEST,\r\n\t\t\tpayload: guest\r\n\t\t})\r\n\t\t// console.log(state);\r\n\t}\r\n\tconst clearEdit = () => {\r\n\t\tdispatch({\r\n\t\t\ttype: CLEAR_EDIT,\r\n\t\t})\r\n\t}\r\n\r\n\tconst toggleFilter = () => {\r\n\t\tdispatch({\r\n\t\t\ttype: TOGGLE_FILTER\r\n\t\t})\r\n\t}\r\n\r\n\tconst clearFilter = () => {\r\n\t\tdispatch({\r\n\t\t\ttype: CLEAR_FILTER\r\n\t\t})\r\n\t}\r\n\r\n\tconst searchGuest = (guest) => {\r\n\t\tdispatch({\r\n\t\t\ttype: SEARCH_GUEST,\r\n\t\t\tpayload: guest\r\n\t\t})\r\n\t}\r\n\r\n\tconst clearSearch = () => {\r\n\t\tdispatch({\r\n\t\t\ttype: CLEAR_SEARCH\r\n\t\t})\r\n\t}\r\n\r\n\r\n\treturn(\r\n\t\t<guestContext.Provider\r\n\t\t\tvalue={{\r\n\t\t\t\tguests: state.guests,\r\n\t\t\t\tfilterGuest: state.filterGuest,\r\n\t\t\t\tsearch: state.search,\r\n\t\t\t\tedit: state.edit,\r\n\t\t\t\ttoggleFilter,\r\n\t\t\t\tsearchGuest,\r\n\t\t\t\tclearSearch,\r\n\t\t\t\taddGuest,\r\n\t\t\t\tremoveGuest,\r\n\t\t\t\tupdateGuest,\r\n\t\t\t\teditGuest,\r\n\t\t\t\tclearEdit,\r\n\t\t\t\tgetGuests,\r\n\t\t\t\tclearGuests,\r\n\t\t\t\tclearFilter,\r\n\t\t\t}}\r\n\t\t>\r\n\t\t{ children }\r\n\t\t</guestContext.Provider>\r\n\t);\r\n}\r\n\r\nexport default GuestState;","export default (state, action) => {\r\n\tswitch(action.type) {\r\n\t\tcase 'SUCCESS_REGISTER':\r\n\t\t\t// Set token received from server to local storage\r\n\t\t\tlocalStorage.setItem('token', action.payload.token);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tuserAuth: true,\r\n\t\t\t\terrors: null\r\n\t\t\t}\r\n\t\tcase 'SUCCESS_LOGIN':\r\n\t\t\t// Set token received from server to local storage\r\n\t\t\tlocalStorage.setItem('token', action.payload.token);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tuserAuth: true,\r\n\t\t\t\terrors: null,\r\n\t\t\t}\r\n\t\tcase 'FAIL_LOGIN':\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tuserAuth: null,\r\n\t\t\t\terrors: action.payload\r\n\t\t\t}\r\n\t\tcase 'LOGOUT':\r\n\t\t\tlocalStorage.removeItem('token');\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tuserAuth: null,\r\n\t\t\t\tloading: true,\r\n\t\t\t}\r\n\t\tcase 'FAIL_REGISTER':\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tuserAuth: null,\r\n\t\t\t\terrors: action.payload\r\n\t\t\t}\r\n\t\tcase 'SET_ERROR':\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\terrors: action.payload\r\n\t\t\t}\r\n\t\tcase 'CLEAR_ERROR':\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\terrors: null\r\n\t\t\t}\r\n\t\tcase 'SET_USER':\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tuser: action.payload,\r\n\t\t\t\tuserAuth: true,\r\n\t\t\t\tloading: false,\r\n\t\t\t\terrors: null\r\n\t\t\t}\r\n\t\tcase ' AUTH_ERROR':\r\n\t\t\tlocalStorage.removeItem('token');\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tuserAuth: null,\r\n\t\t\t\terrors: action.payload\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}","import React, {useReducer} from 'react';\r\nimport axios from 'axios';\r\nimport AuthContext from './authContext';\r\nimport authReducer from './authReducer';\r\nimport setToken from '../../utils/setToken';\r\n\r\n\r\nconst initialState = {\r\n\tuserAuth: null,\r\n\terrors: null,\r\n\tuser: null,\r\n\tloading: true\r\n}\r\n\r\nconst AuthState = ({children}) => {\r\n\r\n\tconst [state, dispatch] = useReducer(authReducer, initialState);\r\n\r\n\t// ACTIONS\r\n\r\n\t// Get User info\r\n\tconst getUser = async () => {\r\n\t\tif(localStorage.token) {\r\n\t\t\tsetToken(localStorage.token);\r\n\t\t}\r\n\t\t// request to server. We have 'auth-token' as header\r\n\t\ttry {\r\n\t\t\tconst res = await axios.get('/auth');\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: 'SET_USER',\r\n\t\t\t\tpayload: res.data\r\n\t\t\t})\r\n\t\t}\r\n\t\tcatch(err) {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: 'AUTH_ERROR',\r\n\t\t\t\tpayload: err.response.data\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\t// Register user\r\n\tconst registerUser = async (userData) => {\r\n\t\tconst config = {\r\n\t\t\theader: {\r\n\t\t\t\t'Content-Type': 'application/json'\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// res contains a token from the server\r\n\t\ttry {\r\n\t\t\tconst res = await axios.post('/register', userData, config);\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: 'SUCCESS_REGISTER',\r\n\t\t\t\tpayload: res.data\r\n\t\t\t})\r\n\t\t}\r\n\t\tcatch(err) {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: 'FAIL_REGISTER',\r\n\t\t\t\tpayload: err.response.data\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\t// Login user\r\n\tconst loginUser = async (userData) => {\r\n\t\tconst config = {\r\n\t\t\theader: {\r\n\t\t\t\t'Content-Type': 'application/json'\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tconst res = await axios.post('/auth', userData, config);\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: 'SUCCESS_LOGIN',\r\n\t\t\t\tpayload: res.data\r\n\t\t\t})\r\n\t\t}\r\n\t\tcatch(err) {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: 'FAIL_LOGIN',\r\n\t\t\t\tpayload: err.response.data\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\t// LOGOUT user\r\n\tconst logoutUser = () => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'LOGOUT'\r\n\t\t})\r\n\t}\r\n\r\n\t// Errors\r\n\tconst setError = error => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'SET_ERROR',\r\n\t\t\tpayload: error\r\n\t\t})\r\n\t}\r\n\r\n\t// Clear errors\r\n\tconst clearError = () => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'CLEAR_ERROR',\r\n\t\t})\r\n\t}\r\n\r\n\treturn (\r\n\t\t<AuthContext.Provider \r\n\t\t\tvalue={{\r\n\t\t\t\tuserAuth: state.userAuth,\r\n\t\t\t\terrors: state.errors,\r\n\t\t\t\tuser: state.user,\r\n\t\t\t\tloading: state.loading,\r\n\t\t\t\tregisterUser,\r\n\t\t\t\tloginUser,\r\n\t\t\t\tlogoutUser,\r\n\t\t\t\tsetError,\r\n\t\t\t\tclearError,\r\n\t\t\t\tgetUser,\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t</AuthContext.Provider>\r\n\t);\r\n}\r\n\r\nexport default AuthState;","import React, { useState, useContext, useEffect } from 'react';\r\nimport AuthContext from '../../context/authContext/authContext';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Register = (props) => {\r\n\tconst [user, setUser] = useState({\r\n\t\tname: '',\r\n\t\temail: '',\r\n\t\tpassword: '',\r\n\t\tpassword2: '',\r\n\t});\r\n\r\n\t// Auth Context\r\n\tconst { registerUser, userAuth, errors, setError, clearError } = useContext(AuthContext);\r\n\r\n\tuseEffect(() => {\r\n\t\tif(userAuth) {\r\n\t\t\t// Redirection after successful register\r\n\t\t\tprops.history.push('/')\r\n\t\t}\r\n\t},[userAuth, props.history]);\r\n\r\n\t// State destructure\r\n\tconst { name, email, password, password2 } = user;\r\n\r\n\tconst handleChange = (e) => {\r\n\t\tsetUser({\r\n\t\t\t...user,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t\tclearError();\r\n\t}\r\n\r\n\tconst handleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tif(password !== password2) {\r\n\t\t\t// console.log(\"password dont match\");\r\n\t\t\tsetError({\r\n\t\t\t\tmsg: \"Passwords do not match\"\r\n\t\t\t})\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// console.log({ name, email, password });\r\n\t\t\tregisterUser( { name, email, password });\r\n\t\t\tclearError();\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"register\">\r\n\t\t\t<h1>Sign Up</h1>\r\n\t\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t\t<input type=\"text\" name=\"name\" placeholder=\"Name\" value={name} onChange={handleChange}/>\r\n\t\t\t\t<input type=\"email\" name=\"email\" placeholder=\"Email\" value={email} onChange={handleChange}/>\r\n\t\t\t\t<input type=\"password\" name=\"password\" placeholder=\"Password\" value={password} onChange={handleChange}/>\r\n\t\t\t\t<input type=\"password\" name=\"password2\" placeholder=\"Confirm Password\" value={password2} onChange={handleChange}/>\r\n\t\t\t\t<input type=\"submit\" value=\"Sign Up\" className=\"btn\"/>\r\n\t\t\t</form>\r\n\t\t\t<div className=\"question\">\r\n\t\t\t\t{ errors !== null && <button className=\"danger\">\r\n\t\t\t\t\t{ errors.msg ? errors.msg : errors.error[0].msg }<span onClick={() => clearError()}>X</span></button>\r\n\t\t\t\t}\r\n\t\t\t\t<p>\r\n\t\t\t\t\tAlready have an account? {\" \"} <Link to=\"/login\">Login</Link>\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Register;","import React, { useState, useContext, useEffect } from 'react';\r\nimport AuthContext from '../../context/authContext/authContext';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Login = (props) => {\r\n\tconst [user, setUser] = useState({\r\n\t\temail: '',\r\n\t\tpassword: '',\r\n\t});\r\n\r\n\tconst { loginUser, userAuth, errors, clearError } = useContext(AuthContext);\r\n\r\n\tconst { email, password } = user;\r\n\r\n\r\n\tuseEffect(() => {\r\n\t\tif(userAuth) {\r\n\t\t\t// Redirection after successful register\r\n\t\t\tprops.history.push('/')\r\n\t\t}\r\n\t},[userAuth, props.history]);\r\n\r\n\tconst handleChange = (e) => {\r\n\t\tsetUser({\r\n\t\t\t...user,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t\tclearError();\r\n\t}\r\n\r\n\tconst handleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\t// console.log({ email, password });\r\n\t\tloginUser( { email, password });\r\n\t\tclearError();\r\n\t}\r\n\r\n\t// temp\r\n\tconst handleGoogle = () => {\r\n\t\twindow.location.href = \"http://localhost:5000/auth/google\";\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"login\">\r\n\t\t\t<h1>Login</h1>\r\n\t\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t\t<input type=\"email\" name=\"email\" placeholder=\"Email\" value={email} onChange={handleChange}/>\r\n\t\t\t\t<input type=\"password\" name=\"password\" placeholder=\"Password\" value={password} onChange={handleChange}/>\r\n\t\t\t\t<input type=\"submit\" value=\"Sign In\" className=\"btn\" />\r\n\t\t\t\t\r\n\t\t\t\t{/*<button className=\"btn-google\" onClick={handleGoogle}>\r\n\t\t\t\t\t<span><i className=\"fab fa-google\"></i> Sign In with Google</span>\r\n\t\t\t\t</button>\r\n\t\t\t*/}\r\n\t\t\t</form>\r\n\t\t\t<div className=\"question\">\r\n\t\t\t\t{ errors !== null && <button className=\"danger\">\r\n\t\t\t\t\t{ errors.msg ? errors.msg : errors.error[0].msg }<span onClick={() => clearError()}>X</span></button>\r\n\t\t\t\t}\r\n\t\t\t\t<p>\r\n\t\t\t\t\tDon't have an account? {\" \"} <Link to=\"/register\">Sign Up</Link>\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Login;","import React, { useContext } from 'react';\r\nimport AuthContext from '../../../context/authContext/authContext';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\n// Handle Private routes\r\nconst PrivateRoutes = ({ component : Component, ...rest }) => {\r\n\r\n\tconst { userAuth } = useContext(AuthContext);\r\n\r\n\t// user is NOT authenticated.\r\n\treturn (\r\n\t\t<Route \r\n\t\t\t{...rest}\r\n\t\t\trender={ props => !userAuth ? <Redirect to='/login'/> : <Component {...props} /> }\r\n\t\t/>\r\n\t);\r\n}\r\n\r\nexport default PrivateRoutes;","import React from 'react';\nimport './App.css';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\n// Components\nimport Navbar from './components/layouts/Navbar';\nimport Home from './components/pages/Home';\nimport GuestState from './context/guestContext/GuestState';\nimport AuthState from './context/authContext/AuthState';\nimport Register from './components/pages/Register';\nimport Login from './components/pages/Login';\nimport PrivateRoutes from './components/pages/routes/PrivateRoutes';\nimport setToken from './utils/setToken';\n\n// Check if token is in local storage. Then pass the token as headers to back-end when retrieving data.\nif(localStorage.token) {\n\tsetToken(localStorage.token);\n}\n\nconst App = () => {\n  return (\n  \t<AuthState>\n\t    <GuestState>\n\t    \t<Router>\n\t\t      <div>\n\t\t        <Navbar />\n\t\t       \t<Switch>\n\t\t       \t\t<PrivateRoutes exact path=\"/\" component={Home} />\n\t\t       \t\t<Route exact path=\"/register\" component={Register} />\n\t\t       \t\t<Route exact path=\"/login\" component={Login} />\n\t\t       \t</Switch>\n\t\t      </div>\n\t\t    </Router>\n\t    </GuestState>\n    </AuthState>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}